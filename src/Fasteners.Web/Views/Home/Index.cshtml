@model Fasteners.Web.Models.HomeViewModel
@{
    ViewData["Title"] = "Nuts & Bolts";
}

<section class="space-y-16">
    <div class="overflow-hidden rounded-3xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 shadow-xl">
        <div class="relative isolate px-8 py-16 sm:px-12 md:px-16">
            <div class="absolute inset-y-0 right-0 hidden w-1/2 translate-x-1/4 bg-[radial-gradient(circle_at_center,_rgba(250,204,21,0.15),_transparent_70%)] md:block"></div>
            <div class="relative z-10 max-w-3xl text-white">
                <p class="text-sm font-semibold uppercase tracking-[0.4em] text-amber-300">Precision catalog</p>
                <h1 class="mt-4 text-4xl font-bold leading-tight sm:text-5xl">Engineered fasteners for every mission</h1>
                <p class="mt-6 text-lg text-slate-200">Curated by engineers, our hardware library gives you instant access to the fasteners that keep missions airborne. Add new SKUs at any time—the layout expands to showcase every product in each category automatically.</p>
                <div class="mt-8 flex flex-wrap items-center gap-4">
                    <a href="#bolts" class="inline-flex items-center gap-2 rounded-full bg-amber-400 px-6 py-3 text-sm font-semibold text-slate-900 shadow hover:bg-amber-300">Explore bolts</a>
                    <a href="#nuts" class="inline-flex items-center gap-2 rounded-full border border-slate-600 px-6 py-3 text-sm font-semibold text-white transition hover:border-amber-300 hover:text-amber-200">Browse nuts</a>
                </div>
            </div>
        </div>
    </div>

    <div class="space-y-14">
        @if (Model.CategorySections.Count == 0)
        {
            <div class="rounded-3xl border border-dashed border-slate-300 bg-white p-12 text-center shadow-sm">
                <h2 class="text-2xl font-semibold text-slate-900">No catalog entries yet</h2>
                <p class="mt-3 text-slate-600">Add products to the Nuts or Bolts categories and they will appear here automatically.</p>
            </div>
        }
        else
        {
            @foreach (var category in Model.CategorySections)
            {
                var anchorValue = category.CategorySlug.Replace(" ", "-");
                <section id="@anchorValue" class="rounded-3xl border border-slate-200 bg-white shadow-xl">
                    <div class="flex flex-col gap-6 border-b border-slate-200 px-8 py-10 md:flex-row md:items-center md:justify-between">
                        <div>
                            <p class="text-xs font-semibold uppercase tracking-[0.6em] text-amber-500">@category.CategorySlug.ToUpperInvariant()</p>
                            <h2 class="mt-3 text-3xl font-bold text-slate-900">@category.Title</h2>
                            <p class="mt-4 max-w-2xl text-base text-slate-600">@category.Subtitle</p>
                        </div>
                        <div class="flex flex-col gap-3 text-sm text-slate-500 md:text-right">
                            <span class="font-semibold text-slate-700">@category.Products.Count product@(category.Products.Count == 1 ? string.Empty : "s") available</span>
                            <span>Keep expanding this category—new items appear instantly.</span>
                        </div>
                    </div>

                    <div class="px-8 pb-10 pt-8">
                        @if (category.Products.Count == 0)
                        {
                            <div class="rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-10 text-center text-slate-500">
                                <p class="text-base font-medium text-slate-700">No products yet</p>
                                <p class="mt-2 text-sm">Add an item to the @category.Title category to populate this grid.</p>
                            </div>
                        }
                        else
                        {
                            <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
                                @foreach (var product in category.Products)
                                {
                                    <article class="group flex h-full flex-col justify-between rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition duration-200 hover:-translate-y-1 hover:border-amber-400 hover:shadow-xl">
                                        <div>
                                            <div class="flex items-start justify-between gap-4">
                                                <h3 class="text-lg font-semibold text-slate-900">@product.Name</h3>
                                                <span class="rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600">@((product.VariantCount == 1 ? "Single" : product.VariantCount.ToString()) + " variant" + (product.VariantCount == 1 ? string.Empty : "s"))</span>
                                            </div>
                                            <p class="mt-3 line-clamp-3 text-sm text-slate-600">@product.Description</p>
                                            <dl class="mt-6 grid grid-cols-2 gap-y-2 text-xs text-slate-500">
                                                @if (!string.IsNullOrWhiteSpace(product.Sku))
                                                {
                                                    <div>
                                                        <dt class="font-semibold text-slate-700">SKU</dt>
                                                        <dd class="mt-1">@product.Sku</dd>
                                                    </div>
                                                }
                                                @if (product.Price.HasValue)
                                                {
                                                    <div>
                                                        <dt class="font-semibold text-slate-700">Unit price</dt>
                                                        <dd class="mt-1">@product.Price.Value.ToString("C")</dd>
                                                    </div>
                                                }
                                            </dl>
                                        </div>
                                        <div class="mt-8 flex flex-wrap items-center justify-between gap-3 text-sm">
                                            <a href="#" class="inline-flex items-center gap-2 font-semibold text-slate-900 transition hover:text-amber-500">
                                                <span>View specifications</span>
                                                <span aria-hidden="true">→</span>
                                            </a>
                                            <button type="button" class="inline-flex items-center gap-2 rounded-full border border-slate-300 px-4 py-2 font-semibold text-slate-700 transition hover:border-amber-400 hover:text-amber-500">
                                                Add to quote
                                            </button>
                                        </div>
                                    </article>
                                }
                            </div>
                        }
                    </div>
                </section>
            }
        }
    </div>
</section>
